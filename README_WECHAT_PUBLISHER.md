# 🚀 微信文章发布工具 - 完整解决方案

## 📋 项目概述

这是一个专门为微信文章发布设计的完整解决方案，提供了简单易用的网页界面，支持一键将文章推送到微信公众号草稿箱，无需复杂的Coze插件配置。

## 🎯 核心优势

### ✅ 解决Coze插件配置复杂问题
- **无需Coze账号**：直接使用网页工具
- **无需OpenAPI配置**：自动处理微信API调用
- **无需技术背景**：图形化界面操作简单

### ✅ 完整的工作流程
1. **配置一次**：输入微信AppID和AppSecret
2. **三种创作方式**：手动输入、URL提取、导入内容
3. **实时预览**：所见即所得的编辑体验
4. **一键发布**：直接推送到微信公众号草稿箱

### ✅ 丰富的功能特性
- 📝 富文本编辑器（支持HTML）
- 🖼️ 封面图片上传
- 🔄 自动保存草稿
- 📱 响应式设计
- 🌐 URL内容提取
- 📄 HTML导出功能

## 📁 文件结构

```
ai-trend-publish/
├── wechat-publisher.html          # 主要的网页发布工具
├── WECHAT_PUBLISHER_GUIDE.md      # 详细使用指南
├── README_WECHAT_PUBLISHER.md      # 本文件 - 项目总览
├── start-wechat-publisher.bat      # Windows启动脚本
├── start-wechat-publisher.sh       # Mac/Linux启动脚本
├── src/api/index.ts                # 后端API服务
└── coze-wechat-openapi.json        # Coze插件配置（备用）
```

## 🚀 快速开始

### 方法1：使用启动脚本（推荐）

**Windows用户：**
```bash
# 双击运行或在命令行执行
start-wechat-publisher.bat
```

**Mac/Linux用户：**
```bash
# 在终端执行
./start-wechat-publisher.sh
```

### 方法2：手动启动

```bash
# 安装依赖
npm install

# 启动服务
npm run dev

# 访问工具
# http://localhost:3000/wechat-publisher.html
```

### 方法3：简单HTML预览

如果没有Node.js环境，直接用浏览器打开 `wechat-publisher.html` 文件即可预览（功能受限）。

## ⚙️ 配置说明

### 1. 获取微信公众号配置

1. 登录 [微信公众平台](https://mp.weixin.qq.com)
2. 进入 "开发" → "基本配置"
3. 记录 **AppID** 和 **AppSecret**
4. 在 "IP白名单" 中添加服务器IP

### 2. 配置发布工具

1. 打开网页工具
2. 在顶部配置区域输入AppID和AppSecret
3. 点击"保存配置"
4. 点击"测试连接"验证配置

## 📱 使用流程

### 步骤1：创建文章

#### 方式A：手动输入（最常用）
```html
<!-- 支持富文本格式 -->
<h2>文章标题</h2>
<p>这是<strong>加粗</strong>和<em>斜体</em>的内容</p>
<p>支持<a href="链接">超链接</a>和图片</p>
```

#### 方式B：URL提取
- 输入微信公众号文章链接
- 系统自动提取标题和内容
- 支持大部分网页格式

#### 方式C：导入内容
- 复制现有文章内容
- 使用格式化工具美化
- 预览并调整

### 步骤2：预览和发布

1. **切换到预览标签页**
2. **检查文章效果**
3. **上传封面图片**（可选）
4. **点击"发布到微信草稿箱"**
5. **等待成功提示**

### 步骤3：管理草稿

- 在微信公众号后台查看草稿
- 可以进一步编辑或直接发布
- 支持查看发布效果

## 🔧 技术特性

### 前端技术栈
- **HTML5 + CSS3**：现代网页标准
- **JavaScript ES6+**：最新JavaScript特性
- **本地存储**：自动保存草稿
- **响应式设计**：适配各种设备

### 后端API
```typescript
// 核心API端点
POST /api/wechat/config        // 配置管理
POST /api/wechat/token         // 获取访问令牌  
POST /api/wechat/publish       // 发布文章
POST /api/wechat/upload-image  // 图片上传
POST /api/wechat/extract-url   // URL内容提取
GET  /api/wechat/drafts       // 草稿管理
```

### 微信API集成
- **OAuth认证**：AppID + AppSecret
- **自动令牌管理**：获取、刷新、缓存
- **错误处理**：完善的错误码映射
- **重试机制**：网络异常自动重试

## 📊 功能对比

| 功能 | 微信发布工具 | Coze插件 | 传统方式 |
|------|-------------|----------|----------|
| 配置复杂度 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐ |
| 使用难度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| 发布速度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ |
| 功能完整性 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 技术门槛 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ |

## 🛠️ 部署选项

### 选项1：本地使用（最简单）
- 下载项目文件
- 运行启动脚本
- 本地浏览器访问

### 选项2：服务器部署（推荐）
- 部署到云服务器
- 配置域名和SSL
- 多用户同时使用

### 选项3：静态部署
- 使用GitHub Pages
- 使用Netlify
- 使用Vercel

## 🔍 故障排除

### 常见问题

#### 问题1：配置失败
**症状**：保存配置后测试连接失败
**解决方案**：
- 检查AppID和AppSecret是否正确
- 确认IP白名单已添加服务器IP
- 检查网络连接和防火墙设置

#### 问题2：发布失败
**症状**：点击发布无反应或报错
**解决方案**：
- 检查微信配置是否正确
- 确认文章内容不为空
- 查看浏览器控制台错误信息
- 检查微信API调用频率限制

#### 问题3：图片上传失败
**症状**：封面图片无法上传
**解决方案**：
- 检查图片格式（支持JPG/PNG）
- 确认图片大小不超过2MB
- 尝试压缩图片后重新上传

### 错误码对照表

| 错误码 | 含义 | 解决方案 |
|--------|------|----------|
| 40001 | AppSecret无效 | 检查AppSecret正确性 |
| 40013 | AppID无效 | 检查AppID格式 |
| 42001 | access_token过期 | 重新获取令牌 |
| 45009 | API调用频率限制 | 稍后重试 |

## 📈 扩展功能

### 已实现功能
- ✅ 富文本编辑器
- ✅ 图片封面上传
- ✅ URL内容提取
- ✅ 自动保存草稿
- ✅ HTML导出
- ✅ 响应式设计

### 计划功能
- 🔄 批量发布
- 🔄 草稿管理界面
- 🔄 内容模板库
- 🔄 数据统计分析
- 🔄 多账号管理

## 🤝 贡献指南

### 开发环境搭建
```bash
# 克隆项目
git clone <repository-url>
cd ai-trend-publish

# 安装依赖
npm install

# 启动开发环境
npm run dev
```

### 提交规范
- feat: 新功能
- fix: 修复问题
- docs: 文档更新
- style: 代码格式
- refactor: 代码重构

## 📞 技术支持

### 获取帮助
1. 查看使用指南：`WECHAT_PUBLISHER_GUIDE.md`
2. 检查常见问题：本文档的故障排除部分
3. 查看浏览器控制台错误信息
4. 检查微信公众号API文档

### 联系方式
- GitHub Issues：报告问题和建议
- 技术文档：查看详细API文档
- 社区支持：加入用户交流群

## 📄 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

---

## 🎉 总结

这个微信文章发布工具完美解决了Coze插件配置复杂的问题，提供了：

1. **极简的使用体验**：一次配置，终身使用
2. **完整的功能覆盖**：从内容创作到发布全流程
3. **强大的技术支持**：稳定可靠的微信API集成
4. **灵活的部署选项**：支持本地和云端部署

**立即开始使用**：
```bash
# Windows用户
start-wechat-publisher.bat

# Mac/Linux用户  
./start-wechat-publisher.sh
```

然后在浏览器中访问 `http://localhost:3000/wechat-publisher.html` 开始使用！

---

**版本**: v1.0.0  
**更新日期**: 2025-12-28  
**作者**: TrendPublish Team